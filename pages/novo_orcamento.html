<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../assets/favicon.png" type="image/x-icon">
    <title>Novo Orçamento</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../styles/style.css">
    <link rel="stylesheet" href="../styles/novo_orcamento_desktop.css">
</head>

<body>
    <header class="cabecalho">
        <img src="../assets/logo.png" alt="">
        <div>
            <h3>Imperatriz Serviços em Contruções</h3>
            <p><i class="fa-sharp fa-solid fa-location-dot"></i> Av. Elísio Cordeiro De Siqueira 159, Jd Santo Elias - São Paulo</p>
            <p><i class="fa-brands fa-whatsapp"></i> (11) 3647-8325  <i class="fa-brands fa-whatsapp"></i> (11) 3647-8325</p>
        </div>
    </header>

    <main>
        <section class="dados__principais">
            <div class="form__secao">
                <h3>Dados do cliente</h3>
                <hr>
            </div>
            <div>
                <p class="form__secao-p">
                    <strong>Nome:</strong> <span data-id="nome_do_cliente"></span>
                </p>
            </div>
            <div>
                <p class="form__secao-p">
                    <strong>Endereço:</strong> <span data-id="endereco_do_cliente"></span>
                </p>
            </div>
            <div>
                <p class="form__secao-p">
                    <strong>Telefone:</strong> <span data-id="telefone_do_cliente"></span>
                </p>
            </div>
        </section>
        <section class="orcamento dados__principais">
            <div class="form__secao">
                <hr>
                <h3><strong>Itens do Orçamento</strong></h3>
                <hr>
            </div>
            <div class="itens">
                <table class="table" id="tabela">
                    <thead>
                        <td>
                            <strong>Descrição</strong>
                        </td>
                        <td class="td__format">
                            <strong>Qtd.</strong>
                        </td>
                        <td class="td__format" style="white-space: nowrap;">
                            <strong>Valor un.</strong>
                        </td>
                        <td class="td__format">
                            <strong>Total</strong>
                        </td>
                        <td></td>
                    </thead>
                    <tbody data-itens="" id="tabela-body">
                    </tbody>
                    <tfoot id="tabela-total">
                        <!-- <td colspan="3" style="text-align: right;">
                            <strong>Total</strong>
                        </td>
                        <td>
                            <strong id="total">200</strong>
                        </td> -->
                    </tfoot>
                </table>
            </div>

            <div class="novo__item">
                <div class="form__secao">
                    <hr>
                    <h3><strong>Novo Item</strong></h3>
                    <hr>
                </div>
                <div>
                    <label for="novo__item-nome" class="form-label">Descrição</label>
                    <input id="novo__item-nome" type="text" class="form-control"
                        placeholder="Digite a descrição do item">
                </div>

                <div class="for-desktop">
                    <div style="display: flex; gap: 2em; margin-top: 1rem;">
                        <!-- QUANTIDADE -->
                        <div>
                            <label for="novo__item-quantidade" class="form-label">Qtd.</label>
                            <input id="novo__item-quantidade" type="number" class="form-control" placeholder="0">
                        </div>
                        <!-- PREÇO -->
                        <div>
                            <label for="novo__item-valor" class="form-label">Valor Un.</label>
                            <input id="novo__item-valor" type="text" class="form-control" placeholder="0">
                        </div>
                    </div>
                    <!-- Botao para adicionar novos itens -->
                    <button class="btn btn-padrao" id="btn-adicionar">Adicionar Item</button>
                </div>

                <div class="form__secao">
                    <hr>
                </div>
            </div>
        </section>
        <section class="finalizar dados__principais"
            style="display: flex; justify-content: space-between; margin-bottom: 2rem;">
            <button class="btn btn-danger" id="btn-zerar-dados">Zerar dados</button>
            <button class="btn btn-success" id="btn-gerar-orcamento">Gerar Orçamento</button>
        </section>
    </main>

    <footer class="rodape">
        <p class="rodape__texto">
            Desenvolvido por Dtech
        </p>
    </footer>

    <script>
        const inputValor = document.getElementById('novo__item-valor');

        // Adiciona o evento input para aplicar a máscara
        inputValor.addEventListener('input', function () {
            let value = inputValor.value;

            // Remove todos os caracteres que não são dígitos
            value = value.replace(/\D/g, "");

            // Formata o valor para o formato R$ 0,00
            value = (value / 100).toFixed(2) + "";
            value = value.replace(".", ".");
            value = value.replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1.");

            // Adiciona o prefixo R$
            inputValor.value =  value;
        });
    </script>

        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
        crossorigin="anonymous"></script>
        <script src="../js/novo_orcamento.js"></script>
</body>

</html>
